<h2 id="how-does-eval-work">1. How does eval work</h2>
<p><strong>For Example</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="c">#for shname in `ls *.sh`</span>
<span class="c">#do</span>
<span class="c">#          name=`echo "$shname" | awk -F. '{print $1}'`</span>
<span class="c">#          echo $name</span>
<span class="c">#done</span>
<span class="nb">readonly </span><span class="nv">fun</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="c">#readonly config="$2"</span>

setEnv<span class="o">()</span>
<span class="o">{</span>
<span class="s1">'''
 In function, there will be an error if we read arguments
 #readonly config="$2"
 error line 11: $config: ambiguous redirect
'''</span>
<span class="nv">readConfig</span><span class="o">=</span><span class="nb">false
</span><span class="k">while </span><span class="nb">read </span>line; <span class="k">do
    if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$line</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"[default]"</span> <span class="o">]]</span>; <span class="k">then
        </span><span class="nv">readConfig</span><span class="o">=</span><span class="nb">true
        </span><span class="k">continue
    fi

    if</span> <span class="o">[[</span> <span class="nv">$readConfig</span> <span class="o">&amp;&amp;</span> <span class="k">${</span><span class="nv">line</span>:0:1<span class="k">}</span> !<span class="o">=</span> <span class="s2">"#"</span> <span class="o">]]</span>
        <span class="k">then
            </span><span class="nv">key</span><span class="o">=</span><span class="k">${</span><span class="nv">line</span><span class="p">%=*</span><span class="k">}</span>
            <span class="nv">val</span><span class="o">=</span><span class="k">${</span><span class="nv">line</span><span class="p">#*=</span><span class="k">}</span>
       <span class="c">#    echo $key</span>
       <span class="c">#    echo $val</span>

             <span class="nb">export</span> <span class="nv">$key</span><span class="o">=</span><span class="s2">"</span><span class="nv">$val</span><span class="s2">"</span>
             <span class="s1">'''
             command echo will be excuted twice 
             '''</span>
             <span class="nb">eval echo</span> <span class="s2">"$"</span><span class="k">${</span><span class="nv">key</span><span class="k">}</span>
    <span class="k">fi

done</span> &lt; <span class="nv">$config</span>
<span class="o">}</span>



<span class="c">#IFS='='</span>
<span class="c">#while read k v</span>
<span class="c">#do</span>
<span class="c">#        echo $k</span>
<span class="c">#        echo $v</span>
<span class="c">#done &lt; ./JenkinsEnv.ini</span>


__main<span class="o">()</span>
<span class="o">{</span>

    <span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="k">${</span><span class="nv">fun</span><span class="k">}</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"All"</span> <span class="o">]]</span>; <span class="k">then
        </span>setEnv
    <span class="k">else</span>
        <span class="k">${</span><span class="nv">fun</span><span class="k">}</span>
    <span class="k">fi</span>
<span class="o">}</span>

__main







<span class="c">## Python </span>
</code></pre>
</div>

<blockquote>
  <p><a href="https://docs.python.org/3/">Python 3.5.1 document</a></p>
</blockquote>

<hr />

<h3 id="import-most-used-module">1. import most used module</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>import os
import sys
import getopt
import datetime
import platform
</code></pre>
</div>

<hr />
<p>### 2. Method</p>

<p>Define a method</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def parse_command(self):
</code></pre>
</div>

<p>Call a method</p>

<div class="highlighter-rouge"><pre class="highlight"><code>self.parse_parameters()
</code></pre>
</div>

<h5 id="example-parse-command-line-options">example: Parse command line options</h5>

<div class="highlighter-rouge"><pre class="highlight"><code> if sys.argv[1] == "install":
     short_opt = "hp:i:"
     long_opt = [
            "help",
            "install-dir=",
            "git-pull-request-number="
     ]
     try:
         params, args = getopt.getopt(sys.argv[2:], short_opt, long_opt)
         for key, value in params:
            if key in ("--install-dir"):
</code></pre>
</div>

<hr />

<h3 id="os">3. OS</h3>

<div class="highlighter-rouge"><pre class="highlight"><code> if not os.path.exists(tmp_path):
    os.makedirs(tmp_path)
 self.tmp_config["tmp_path"] = tmp_path
</code></pre>
</div>

